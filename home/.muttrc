#Me
set realname = "Chris Weaver"

#LDAP Address Book
set query_command="$HOME/bin/mutt-ldap.pl '%s'"
bind editor "\t" complete-query

# SMTP
set from="Chris Weaver <chris.weaver@readytalk.com>"
set record=$HOME/mail/readytalk/Sent\ Items
set postponed=$HOME/mail/readytalk/Drafts
set smtp_url=smtp://chris.weaver@wynent02.readytalk.com
set smtp_pass=$SMTP_PW
set ssl_starttls = yes

# For HTML Viewing
set mailcap_path = ~/.mutt/mailcap
auto_view text/html
#alternative_order text/plain text/html

# Maildir
set mbox_type=Maildir
set folder=$HOME/mail/readytalk
mailboxes `$HOME/.mutt/list_mailboxes.sh`
set spoolfile=+/INBOX
set header_cache=~/.cache/mutt

# Auto check for new mail
set timeout = 3
set mail_check = 0

# Sidebar
set sidebar_visible=yes
set sidebar_delim  = '  |'
set sidebar_width=24
#color sidebar_new yellow default

bind index J sidebar-next
bind index K sidebar-prev
bind index,pager L sidebar-open

bind pager j next-line
bind pager k previous-line
bind pager J next-undeleted
bind pager K previous-undeleted

macro index b '<enter-command>toggle sidebar_visible<enter>'
macro pager b '<enter-command>toggle sidebar_visible<enter>'

# Colors
source $HOME/.mutt/solarized


# General shortcuts
#bind index gg first-entry
#bind index G last-entry
bind index u sync-mailbox




# Macros

# Mark all Read

# faster? untag new messages, select old but unread, untag them, then get rid of all tags
macro index <esc>M "T~N<enter>;WNT~O<enter>;WO\CT~T<enter>" "Mark all messages as read"
# Works but slow because of tag regex
# macro index M "T.*\n;WN" "Mark all messages as read"

# Move to a folder -- tagged or selected
macro index,pager X ":set confirmappend=no delete=yes\n<tag-prefix><save-message>=Archive\n<sync-mailbox>:set confirmappend=yes delete=ask-yes\n"
macro index,pager S ":set confirmappend=no delete=yes\n<tag-prefix><save-message>=Support\n<sync-mailbox>:set confirmappend=yes delete=ask-yes\n"

